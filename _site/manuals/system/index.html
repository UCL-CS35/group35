<h3 id="system-requirements">System Requirements</h3>

<ul>
  <li>
    <p>Operating System: Mac OS X 10.7+, Ubuntu 14.04.4 x64 (Tested)</p>
  </li>
  <li>
    <p>Memory: 5GB+ (excluding memory space required for Raw and Processed Dataset)</p>
  </li>
  <li>
    <p>Browser: Chrome 45+, Safari 9+, Firefox 42+, Edge 25+, IE 11+ (JavaScript Enabled)</p>
  </li>
  <li>
    <p>Python and pip Installed</p>
  </li>
</ul>

<h3 id="deploying-incdb">Deploying INcDb</h3>

<p>Install Virtual Environment using pip:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>pip install virtualenv
</code></pre>
</div>

<p>Cloning the app into a folder named “incdb-poc”</p>

<div class="highlighter-rouge"><pre class="highlight"><code>git clone https://github.com/UCL-CS35/incdb-poc.git incdb-poc
</code></pre>
</div>

<p>Create the “incdb” virtual environment</p>

<div class="highlighter-rouge"><pre class="highlight"><code>mkvirtualenv incdb
</code></pre>
</div>

<p>Install required Python packages</p>

<div class="highlighter-rouge"><pre class="highlight"><code>cd /path/to/incdb-poc
workon incdb
pip install -r requirements.txt
</code></pre>
</div>

<h3 id="setting-up-incdb">Setting Up INcDb</h3>

<p>Run Celery Work</p>

<div class="highlighter-rouge"><pre class="highlight"><code>celery worker -A app.initializers.mycelery -l info
</code></pre>
</div>

<p>Run Redis Server</p>

<div class="highlighter-rouge"><pre class="highlight"><code>redis-server
</code></pre>
</div>

<p>To install redis-server from source on Ubuntu, follow the tutorial by Digital Ocean, <a href="https://www.digitalocean.com/community/tutorials/how-to-install-and-use-redis/">https://www.digitalocean.com/community/tutorials/how-to-install-and-use-redis/</a></p>

<p>Initialising the Database</p>

<div class="highlighter-rouge"><pre class="highlight"><code># Setup Neruoysnth Dataset
# Create DB tables and populate with Terms from Neurosynth
# Populate the roles and users tables	
python manage.py init_db
</code></pre>
</div>

<h3 id="running-the-app">Running the App</h3>

<div class="highlighter-rouge"><pre class="highlight"><code># Start the Flask development web server
./runserver.sh    # will run "python manage.py runserver"
</code></pre>
</div>

<p>Point your web browser to http://http://127.0.0.1:5000/</p>

<p>You can make use of the following users:</p>

<ul>
  <li>email <code class="highlighter-rouge">jeremy@incdb.com</code> with password <code class="highlighter-rouge">Password1</code> with Administrative Privileges.</li>
  <li>email <code class="highlighter-rouge">ong@incdb.com</code> with password <code class="highlighter-rouge">Password1</code>.</li>
  <li>email <code class="highlighter-rouge">johnson@incdb.com</code> with password <code class="highlighter-rouge">Password1</code>.</li>
  <li>email <code class="highlighter-rouge">rajind@incdb.com</code> with password <code class="highlighter-rouge">Password1</code>.</li>
</ul>

<h3 id="testing-the-app">Testing the app</h3>

<div class="highlighter-rouge"><pre class="highlight"><code># Run all the automated tests in the tests/ directory
./runtests.sh         # will run "py.test -s tests/"
</code></pre>
</div>

<h3 id="known-issues">Known Issues</h3>

<blockquote>
  <p>Out of Memory during Installation of Python Packages</p>
</blockquote>

<p>As <code class="highlighter-rouge">matplotlib</code> and <code class="highlighter-rouge">nilearn</code> both require a large memory space during installation, the remote server might run out of memory. One way to overcome this issue is to add Swap on the server. Swap is created from the hard drive space and used by the operating system to store data for a non-permanent basis when it run out memory in the RAM to hold the data.</p>

<p>If you face the Out of Memory issue, follow the tutorial by Digital Ocean to add Swap to your remote server. <a href="https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04">https://www.digitalocean.com/community/tutorials/how-to-add-swap-on-ubuntu-14-04</a></p>

<blockquote>
  <p>Trouble installing SciPy and NumPy</p>
</blockquote>

<p>Try installing the dependencies of <code class="highlighter-rouge">python-scipy</code> and <code class="highlighter-rouge">python-numpy</code> using the following command:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>sudo apt-get build-dep python-numpy python-scipy
</code></pre>
</div>

<h3 id="troubleshooting">Troubleshooting</h3>

<ul>
  <li>
    <p>If you make changes in the Models and run into DB schema issues, delete the sqlite DB file <code class="highlighter-rouge">app.sqlite</code>.</p>
  </li>
  <li>
    <p>If you have any other troubles with setting up INcDb, tell us on the <a href="../support/">Discussion Forum</a>.</p>
  </li>
</ul>
